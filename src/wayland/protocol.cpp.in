// SPDX-License-Identifier: MIT
// SPDX-FileCopyrightText: 2026 Maikel Nadolski <maikel.nadolski@gmail.com>

/*
 * WARNING: This file is automatically generated from wayland.xml.
 * Any manual modifications to this file will be lost when the generator is rerun.
 * 
 * To make changes, please modify the corresponding Wayland XML protocol 
 * definition or update the generator logic itself.
 */

#include "wayland/protocol.hpp"

namespace ms::wayland {

{% for interface in interfaces %}
{{ interface.cppname }}::{{ interface.cppname }}(ObjectId objectId, ConnectionHandle connection)
: ProxyInterface(objectId, connection){% if interface.events %}, mEventQueue(connection.get_scheduler()){% endif %} {}

{{ interface.cppname }}::~{{ interface.cppname }}() = default;

{% for request in interface.requests %}
{% if request.return_type %}auto{% else %}void{% endif %}
{{ interface.cppname }}::{{ request.name }}({% for arg in request.args %}{% if arg.__tail %}, {% endif %}{{arg.type}} {{arg.name}}{% endfor %})
{% if request.return_type %}-> {{ request.return_type }}{% endif %} {
  {% if request.return_type %}auto newObjectId = this->get_connection().get_next_object_id();
  this->get_connection().send_message(this->get_object_id(), OpCode{ {{ request.num }} }, newObjectId{% for arg in request.args %}, {{ arg.name }}{% endfor %});
  return {{ request.return_type }}{newObjectId, this->get_connection()};
  {% else %}this->get_connection().send_message(this->get_object_id(), OpCode{ {{ request.num }} }{% for arg in request.args %}, {{ arg.name }}{% endfor %});
  {% endif %}
}
{% endfor %}

{% endfor %}

} // namespace ms
